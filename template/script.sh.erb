#!/usr/bin/env bash

echo "Starting main script..."
echo "TTT - $(date)"

set -x

# Load required modules for runtime libraries
module load Anaconda3
module load GCCcore/11.4.0
module load GCC/11.4.0             # Skip if not available
module load CUDA/11.8.0
module load cuDNN/8.9.2.26-CUDA-11.8.0
module load CMake/3.26.4-GCCcore-11.4.0

# activate the environment
conda activate env-chatbot

python -c "import llama_cpp; print('âœ… llama_cpp loaded successfully')"

# launch the gradio application
python $APP

echo "TTT - $(date)"
